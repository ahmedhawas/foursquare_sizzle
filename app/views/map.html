<div ng-controller="UpdateCtrl">
    <div ng-controller="MapCtrl">
        <div class="row">
            <div class="col-xs-12 col-sm-6 col-md-8">
                <div class="google-map"
                     center='map.center'
                     zoom='map.zoom'
                     draggable="true">
                    <markers models="map.markers" coords="'self'">
                    </markers>
                </div>
            </div>
            <div class="col-xs-6 col-md-4">
                <div ng-repeat="update in updates">
                    <accordion close-others="oneAtATime">
                        <accordion-group>
                            <accordion-heading>
                                {{update.body.update}} <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': isopen, 'glyphicon-chevron-right': !isopen}"></i>
                            </accordion-heading>
                            Shared by {{update.from}} at {{update.body.date}}
                            position: {{update.body.lat}},{{update.body.long}}
                            <a ng-click="showOnMap(update.body.lat,update.body.long)">show on map</a>
                        </accordion-group>
                    </accordion>
                </div>
                <div>
                    <input type="text" ng-model="name" placeholder="Name">
                    <input type="text" ng-model="update" placeholder="Update...">
                    <input type="text" ng-model="lat" placeholder="Lat">
                    <input type="text" ng-model="long" placeholder="Long">
                    <!--make a checkbox to choose category??-->
                    <button ng-click="addMessage()">Add Update</button>
                </div>
            </div>
        </div>
    </div>
</div>